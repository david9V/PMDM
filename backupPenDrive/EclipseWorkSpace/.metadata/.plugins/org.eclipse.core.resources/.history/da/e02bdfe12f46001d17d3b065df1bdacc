package pruebaXSTREAM;

import java.io.FileInputStream;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

import com.thoughtworks.xstream.XStream;
import com.thoughtworks.xstream.io.xml.DomDriver;

public class LeerPersonas {
	public static void main(String[] args) throws IOException {
		XStream xstream = new XStream();
		xstream = new XStream(new DomDriver());
		xstream.alias("ListaPersonassMunicipio", ListaPersonas.class);
		xstream.alias("DatosPersonas", Personas.class);
		xstream.addImplicitCollection(ListaPersonas.class, "lista");
		ListaPersonas listadoTodas = (ListaPersonas) xstream.fromXML(new FileInputStream("Personass.xml"));
		System.out.println("Número de Personass: " + listadoTodas.getListaPersonas().size());
		List<Personas> listaPersonas = new ArrayList<Personas>();
		listaPersonas = listadoTodas.getListaPersonas();
		Iterator iterador = listaPersonas.listIterator(); // iterador de los elementos
		while (iterador.hasNext()) {
			Personas p = (Personas) iterador.next(); // obtengo el elemento contenido
			System.out.println(
					"Nombre: " + p.getNombre() + ", dirección: " + p.getDireccion() + ", teléfono: " + p.getTelefono());
		}
		System.out.println("Fin del listado");
	} // fin del main
} // fin de LeerPersonass